<!doctype html>
<html>
<head>
  <script src="https://api.mapy.cz/loader.js"></script>
  <script>Loader.load()</script>
  <link rel="stylesheet" href="style.css">
  <title>myMap</title>
</head>

<body>
<div id="mapa" style="width:100%; height:400px;"></div>
<div class="container">
  <div class="items">
    <input type="text" name="input" id="input" placeholder="Your IP">
    <button id="btn">search</button>
  </div>

<script type="text/javascript" async>

  const key = "6032ae8a22c1eacb8aa8d5d7cc780a18";
  const input = document.querySelector("#input");

    let lat = 50;
    let long =14;


  btn.addEventListener("click", ()=>{
    let ip = input.value;

    fetch("https://ipapi.co/"+ip+"/json/").then(response => response.json()).then(data=>{
      let lat = data.latitude;
      let long = data.longitude;
      var stred = SMap.Coords.fromWGS84(long, lat);
      var mapa = new SMap(JAK.gel("mapa"), stred, 10);
      mapa.addDefaultLayer(SMap.DEF_BASE).enable();
      mapa.addDefaultControls();

    })
  })
  var stred = SMap.Coords.fromWGS84(long, lat);
  var mapa = new SMap(JAK.gel("mapa"), stred, 10);
  mapa.addDefaultLayer(SMap.DEF_BASE).enable();
  mapa.addDefaultControls();

</script>
</body>
</html>